<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IoT Flood Monitor Project</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <canvas id="bg"></canvas>

    <header class="navbar">
        <div class="container">
            <div class="nav-left">
                <a href="../index.html" class="back-to-home" aria-label="Back to Home">←</a>
                <div class="logo">IoT Flood Monitor</div>
            </div>
            <nav class="desktop-nav">
                <ul>
                    <li><a href="#hero">Home</a></li>
                    <li><a href="#overview">Overview</a></li>
                <li><a href="#documentation">Documentation</a></li>
                <li><a href="#schematic">Diagrams</a></li>
                <li><a href="#firmware">Firmware</a></li>
                </ul>
            </nav>
            <button class="hamburger" aria-label="Open menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>
    <div class="mobile-nav">
        <nav>
            <ul>
                <li><a href="../index.html" aria-label="Back to Home">←</a></li>
                <li><a href="#hero">Home</a></li>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#documentation">Documentation</a></li>
                <li><a href="https://github.com/elenriquez/IoT2025" target="_blank" rel="noopener">Repo</a></li>
            </ul>
        </nav>
    </div>

    <main>
        <section id="hero" class="hero">
            <div class="container">
                <h1 class="hero-title">IoT Flood Monitoring System</h1>
                <p class="hero-tagline">A dual-unit ESP32 project for real-time water level detection and remote alerting.</p>
            </div>
        </section>

        <section id="overview" class="content-section">
            <div class="container">
                <h2 class="section-title">Project Overview</h2>
                <div class="card">
                    <p>This project is a real-world IoT solution designed to address the recurring natural flooding at the Pablo Borbon campus. Due to the area's low-lying geography, certain roads become impassable during heavy rain, posing a risk to drivers. This system provides a clear, automated warning sign to indicate whether the road is safe to traverse.</p>
                    <p>The system uses a remote <strong>Slave Unit</strong> placed at a critical low point. This unit employs two float switches to detect rising water levels. When a water level threshold is breached, it wirelessly signals a central <strong>Master Unit</strong> using the ESP-NOW protocol.</p>
                    <p>The Master Unit controls a highly visible traffic light, giving drivers an immediate and easy-to-understand status of the road ahead. A green light indicates the road is clear, yellow suggests caution as water is rising, and a solid red light warns that the road is impassable. This provides a practical safety measure for a persistent, real-life environmental challenge.</p>
                </div>
            </div>
        </section>

        <section id="how-it-works" class="content-section">
            <div class="container">
                <h2 class="section-title">How It Works</h2>
                <div class="card-grid">
                    <div class="card">
                        <h3>State 1: Normal Conditions</h3>
                        <p>When both float switches are dry, the system is in its NORMAL state. The Master Unit keeps a standard traffic light cycling (Green -> Yellow -> Red) to regulate normal traffic flow, and the blue flood indicator LED remains off.</p>
                    </div>
                    <div class="card">
                        <h3>State 2: Low-Level Flood</h3>
                        <p>When the lower float switch is triggered by rising water, the system enters the FLOOD_LOW state. The traffic light turns to a 'breathing' or pulsing yellow, signaling to drivers that the road is wet and they should proceed with caution. The blue indicator LED also turns on.</p>
                    </div>
                    <div class="card">
                        <h3>State 3: High-Level Flood</h3>
                        <p>When both the lower and upper float switches are triggered, the system enters the FLOOD_HIGH state, indicating the road is impassable. The traffic light turns to a solid red, and the blue indicator LED stays on, clearly warning drivers not to proceed.</p>
                    </div>
                </div>
                <div class="card" style="margin-top: 2rem;">
                    <h3>Web Dashboard & Manual Control</h3>
                    <p>The Master Unit also hosts a password-protected Wi-Fi Access Point. By connecting to this network, authorized users can view a web dashboard showing the current flood status in real-time. The dashboard also provides manual control over the LEDs, allowing for system resets or tests.</p>
                </div>
            </div>
        </section>

        <section id="installation-guide" class="content-section">
            <div class="container">
                <h2 class="section-title">Installation & Setup Guide</h2>
                <div class="card">
                    <h3>1. Software Prerequisites</h3>
                    <ul>
                        <li>Install the <a href="https://www.arduino.cc/en/software" target="_blank">Arduino IDE</a>.</li>
                        <li>Add ESP32 board support to your Arduino IDE. You can find instructions <a href="https://docs.espressif.com/projects/arduino-esp32/en/latest/installing.html" target="_blank">here</a>. Make sure to include support for both standard ESP32 and ESP32-C3 boards.</li>
                    </ul>
                </div>
                <div class="card" style="margin-top: 2rem;">
                    <h3>2. Configure & Flash the Firmware</h3>
                    <h4>For the Master Unit (ESP32):</h4>
                    <ol>
                        <li>First, use the `firmware/MAC_Address_Finder.ino` sketch to get the MAC Address of your ESP32 board. Upload the sketch and copy the MAC address from the Serial Monitor.</li>
                        <li>Open `firmware/Traffic_Master.ino` and select your ESP32 board in the Arduino IDE.</li>
                        <li>Update the `www_user` and `www_pass` variables if you want to change the web dashboard login credentials.</li>
                        <li>Upload the `Traffic_Master.ino` sketch to your ESP32 board.</li>
                    </ol>
                    <h4>For the Slave Unit (ESP32-C3):</h4>
                    <ol>
                        <li>Open `firmware/Float_Sensor.ino`.</li>
                        <li>Paste the Master's MAC address you copied earlier into the `broadcastAddress[]` array within this file.</li>
                        <li>Select your ESP32-C3 board from the board manager.</li>
                        <li>Upload the sketch to your ESP32-C3 board.</li>
                    </ol>
                </div>
                <div class="card" style="margin-top: 2rem;">
                    <h3>3. Final Assembly & Power On</h3>
                    <ul>
                        <li>Connect the float switches, LEDs, and resistors to the boards as shown in the Schematic diagram.</li>
                        <li>Power on both units. The Master will create a Wi-Fi Access Point named "IoT_Flood_Monitor_AP".</li>
                        <li>You can connect to this Wi-Fi network to access the web dashboard and monitor the system.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="usage-guide" class="content-section">
            <div class="container">
                <h2 class="section-title">Usage Guide</h2>
                <div class="card-grid">
                    <div class="card">
                        <h3>Interpreting the Light Signals</h3>
                        <ul>
                            <li><strong style="color: #28a745;">GREEN LIGHT:</strong> Normal traffic flow. The road is clear and safe to pass.</li>
                            <li><strong style="color: #ffc107;">PULSING YELLOW LIGHT:</strong> Low-level flood detected. Proceed with caution as the road is wet.</li>
                            <li><strong style="color: #dc3545;">SOLID RED LIGHT:</strong> High-level flood detected. The road is impassable. Do not proceed.</li>
                            <li><strong style="color: #007bff;">BLUE LIGHT:</strong> This is a general flood indicator. It will be ON during both Low and High-level flood states.</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>Accessing the Web Dashboard</h3>
                        <ol>
                            <li>On your phone or computer, scan for Wi-Fi networks.</li>
                            <li>Connect to the network named <strong>"IoT_Flood_Monitor_AP"</strong>.</li>
                            <li>Use the password: <strong>"floodmon"</strong> (or the password you configured).</li>
                            <li>Once connected, open a web browser. You should be automatically redirected to the login page. If not, navigate to the device's IP address (usually 192.168.4.1).</li>
                            <li>Log in with the configured username and password (default is `admin`/`password`).</li>
                        </ol>
                    </div>
                </div>
                 <div class="card" style="margin-top: 2rem;">
                    <h3>Using the Dashboard Controls</h3>
                    <p>The web dashboard allows for manual control and system resets. You can turn individual LEDs on or off for testing, force the system back into its automatic traffic light cycle, or perform a full reset to the NORMAL state.</p>
                </div>
            </div>
        </section>

        <section id="documentation" class="content-section">
            <div class="container">
                <h2 class="section-title">Documentation & Process</h2>
                <div class="card">
                    <h3>System Assembly & Master Hub</h3>
                    <p>The build process involves wiring the float switches to the Slave Unit and the LED indicators to the Master Unit. Both units are housed in protective casings to shield them from environmental factors. The Master Unit is the core of the system, featuring visual alerts and network capabilities. It's configured to run a local Wi-Fi access point, allowing for a direct connection to its web dashboard without needing an external router.</p>
                </div>
                <div class="slideshow-container">
                    <div class="slideshow-track">
                        <div class="slide"><img src="../imgs/flood_doc1.jpg" alt="Documentation Image 1" class="placeholder-img"></div>
                        <div class="slide"><img src="../imgs/flood_doc2.jpg" alt="Documentation Image 2" class="placeholder-img"></div>
                        <div class="slide"><img src="../imgs/flood_doc3.jpg" alt="Documentation Image 3" class="placeholder-img"></div>
                        <div class="slide"><img src="../imgs/flood_doc4.jpg" alt="Documentation Image 4" class="placeholder-img"></div>
                        <div class="slide"><img src="../imgs/flood_doc5.jpg" alt="Documentation Image 5" class="placeholder-img"></div>
                        <div class="slide"><img src="../imgs/flood_doc6.jpg" alt="Documentation Image 6" class="placeholder-img"></div>
                        <div class="slide"><img src="../imgs/flood_doc7.jpg" alt="Documentation Image 7" class="placeholder-img"></div>
                        <div class="slide"><img src="../imgs/flood_doc8.jpg" alt="Documentation Image 8" class="placeholder-img"></div>
                        <div class="slide"><img src="../imgs/flood_doc9.jpg" alt="Documentation Image 9" class="placeholder-img"></div>
                        <!-- Duplicate for infinite scroll -->
                        <div class="slide"><img src="../imgs/flood_doc1.jpg" alt="Documentation Image 1" class="placeholder-img"></div>
                        <div class="slide"><img src="../imgs/flood_doc2.jpg" alt="Documentation Image 2" class="placeholder-img"></div>
                        <div class="slide"><img src="../imgs/flood_doc3.jpg" alt="Documentation Image 3" class="placeholder-img"></div>
                        <div class="slide"><img src="../imgs/flood_doc4.jpg" alt="Documentation Image 4" class="placeholder-img"></div>
                        <div class="slide"><img src="../imgs/flood_doc5.jpg" alt="Documentation Image 5" class="placeholder-img"></div>
                        <div class="slide"><img src="../imgs/flood_doc6.jpg" alt="Documentation Image 6" class="placeholder-img"></div>
                        <div class="slide"><img src="../imgs/flood_doc7.jpg" alt="Documentation Image 7" class="placeholder-img"></div>
                        <div class="slide"><img src="../imgs/flood_doc8.jpg" alt="Documentation Image 8" class="placeholder-img"></div>
                        <div class="slide"><img src="../imgs/flood_doc9.jpg" alt="Documentation Image 9" class="placeholder-img"></div>
                    </div>
                </div>
            </div>
        </section>

        <section id="schematic" class="content-section">
            <div class="container">
                <h2 class="section-title">Diagrams</h2>
                <div class="card-grid diagram-grid">
                    <div class="card">
                        <h3>Circuit Diagram</h3>
                        <p>This schematic illustrates the physical connections for both the Master and Slave units, including GPIO pins for all LEDs and float switches.</p>
                        <img src="../imgs/floodMonitoringSchematics.jpg" alt="Project Schematic" class="placeholder-img">
                    </div>
                    <div class="card">
                        <h3>Network Topology</h3>
                        <p>High-level view of ESP-NOW from Slave to Master, plus the Master’s SoftAP and dashboard clients.</p>
                        <img src="../imgs/floodMonitoring_NetworkDiagram.png" alt="Network Topology Diagram" class="placeholder-img">
                    </div>
                    <div class="card">
                        <h3>ESP32 Pinout (Master)</h3>
                        <p>Reference pinout for the ESP32 Master controlling LEDs and hosting the web dashboard. LEDs: GPIO 22 (Red), 21 (Yellow), 18 (Green), 19 (Blue).</p>
                        <img src="../imgs/floodmonitor_ESP32Pinout.jpg" alt="ESP32 Pinout Diagram" class="placeholder-img">
                    </div>
                    <div class="card">
                        <h3>ESP32-C3 Pinout (Slave)</h3>
                        <p>Reference pinout for the ESP32-C3 Slave reading float switches on GPIO 4 (low) and GPIO 5 (high) with INPUT_PULLUP.</p>
                        <img src="../imgs/floodmonitor_ESP32_C3Pinout.jpeg" alt="ESP32-C3 Pinout Diagram" class="placeholder-img">
                    </div>
                </div>
            </div>
        </section>

        <section id="demo" class="content-section">
            <div class="container">
                <h2 class="section-title">Demo Video</h2>
                <div class="card">
                    <video class="demo-video" controls>
                        <source src="../imgs/floodMonitorDemo.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                    <p style="margin-top: 1rem;">Quick walkthrough of the Master/Slave units, traffic lights, and dashboard in action.</p>
                </div>
            </div>
        </section>

        <section id="bom" class="content-section">
            <div class="container">
                <h2 class="section-title">Bill of Materials</h2>
                <div class="card">
                    <table class="bom-table">
                        <thead>
                            <tr>
                                <th>Component</th>
                                <th>Quantity</th>
                                <th>Key Specifications</th>
                                <th>Package Type</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>ESP32-C3 Dev Module</td>
                                <td>1</td>
                                <td>3.3V Logic, WiFi/BT</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td>ESP32 Dev Module</td>
                                <td>1</td>
                                <td>3.3V Logic, WiFi/BT</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td>Float Switch</td>
                                <td>2</td>
                                <td>Water Level Sensor</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td>5mm Red LED</td>
                                <td>1</td>
                                <td>~2.0V, 20mA</td>
                                <td>Through-hole</td>
                            </tr>
                            <tr>
                                <td>5mm Yellow LED</td>
                                <td>1</td>
                                <td>~2.1V, 20mA</td>
                                <td>Through-hole</td>
                            </tr>
                            <tr>
                                <td>5mm Green LED</td>
                                <td>1</td>
                                <td>~2.2V, 20mA</td>
                                <td>Through-hole</td>
                            </tr>
                            <tr>
                                <td>5mm Blue LED</td>
                                <td>1</td>
                                <td>~3.2V, 20mA</td>
                                <td>Through-hole</td>
                            </tr>
                            <tr>
                                <td>220Ω Resistor</td>
                                <td>4</td>
                                <td>For current limiting LEDs</td>
                                <td>Axial</td>
                            </tr>
                            <tr>
                                <td>USB Type-C Cable</td>
                                <td>2</td>
                                <td>For Power & Programming</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td>Waterproof Junction Box</td>
                                <td>1</td>
                                <td>To house sensor unit</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td>Jumper Wires</td>
                                <td>Assorted</td>
                                <td>For connections</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <section id="components-photos" class="content-section">
            <div class="container">
                <h2 class="section-title">Component Photos</h2>
                <div class="card-grid">
                    <div class="card">
                        <h3>LEDs<br>&nbsp;</h3>
                        <img src="../imgs/floodmonitor_LEDs.jpeg" alt="Assorted LEDs" class="placeholder-img">
                    </div>
                    <div class="card">
                        <h3>ESP32-C3<br>(Slave Unit)</h3>
                        <img src="../imgs/ESP32_C3Picture.jpg" alt="ESP32-C3 Development Board" class="placeholder-img">
                    </div>
                    <div class="card">
                        <h3>ESP32<br>(Master Unit)</h3>
                        <img src="../imgs/floodmonitor_ESP32Picture.jpeg" alt="ESP32 Development Board" class="placeholder-img">
                    </div>
                    <div class="card">
                        <h3>Float<br>Switch</h3>
                        <img src="../imgs/floodmonitor_horizontalFloatSwitch.jpg" alt="Horizontal Float Switch" class="placeholder-img">
                    </div>
                    <div class="card">
                        <h3>220Ω<br>Resistors</h3>
                        <img src="../imgs/floodmonitor_220Resistors.webp" alt="220 Ohm Resistors" class="placeholder-img">
                    </div>
                    <div class="card">
                        <h3>USB Type-C Cables</h3>
                        <img src="../imgs/floodmonitor_2USBType-C.jpg" alt="USB Type-C Cables" class="placeholder-img">
                    </div>
                    <div class="card">
                        <h3>Waterproof Junction Box</h3>
                        <img src="../imgs/floodmonitor_WaterproofJunctionBox.jpg" alt="Waterproof Junction Box" class="placeholder-img">
                    </div>
                    <div class="card">
                        <h3>Jumper<br>Wires</h3>
                        <img src="../imgs/floodmonitor_Jumperwires.jpg" alt="Assorted Jumper Wires" class="placeholder-img">
                    </div>
                </div>
            </div>
        </section>

        <section id="libraries" class="content-section">
            <div class="container">
                <h2 class="section-title">Libraries Used</h2>
                <div class="card-grid">
                    <div class="card">
                        <h3>esp_now.h</h3>
                        <p>Utilized for reliable and fast peer-to-peer communication between the ESP32 Slave and Master units without the overhead of a traditional Wi-Fi connection.</p>
                    </div>
                    <div class="card">
                        <h3>WiFi.h</h3>
                        <p>Enables the ESP32 boards to manage Wi-Fi connections. It is used by the Slave Unit to connect to the Master’s SoftAP and by the Master Unit to create that access point.</p>
                    </div>
                    <div class="card">
                        <h3>WebServer.h</h3>
                        <p>Used by the Master Unit to create a lightweight, secure web server. This server hosts a dashboard for monitoring flood status and provides control endpoints.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="firmware" class="content-section">
            <div class="container">
                <h2 class="section-title">Firmware & Codebase</h2>
                <div class="card-grid diagram-grid">
                    <div class="card">
                        <h3>Slave Unit Firmware</h3>
                        <p>ESP32-C3 sketch for reading the float switches and sending status updates via ESP-NOW.</p>
                        <a href="firmware/Float_Sensor.ino">Float_Sensor.ino</a>
                    </div>
                    <div class="card">
                        <h3>Master Unit Firmware</h3>
                        <p>ESP32 sketch that receives sensor data, drives the LEDs, and hosts the web dashboard.</p>
                        <a href="firmware/Traffic_Receiver.ino">Traffic_Receiver.ino</a>
                    </div>
                    <div class="card">
                        <h3>MAC Address Finder</h3>
                        <p>Utility to read the MAC address of any ESP board for ESP-NOW pairing.</p>
                        <a href="firmware/MAC_Address_Finder.ino">MAC_Address_Finder.ino</a>
                    </div>
                </div>
            </div>
        </section>

        <section id="future-improvements" class="content-section">
            <div class="container">
                <h2 class="section-title">Future Improvements</h2>
                <div class="card-grid">
                    <div class="card">
                        <h3>Cloud Integration & Mobile Alerts</h3>
                        <p>Connect the Master Unit to a home Wi-Fi network to push status updates to an IoT cloud platform. This would enable sending real-time mobile notifications (SMS, Push) to users, ensuring they are alerted to flood conditions even when away from the physical location.</p>
                    </div>
                    <div class="card">
                        <h3>Solar-Powered Slave Unit</h3>
                        <p>To increase the autonomy and placement flexibility of the remote Slave Unit, it could be equipped with a small solar panel and a rechargeable battery pack. This would make it ideal for long-term deployment in outdoor or remote locations without access to mains power.</p>
                    </div>
                    <div class="card">
                        <h3>Advanced Sensing & Data Logging</h3>
                        <p>Upgrade the binary float switches to an ultrasonic or ToF (Time-of-Flight) distance sensor. This would provide continuous, granular data on the water level, not just discrete high/low points. This data could be logged to an SD card or the cloud for historical analysis of flood patterns.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p>IoT Flood Monitor Project | IT-3104</p>
            <p><a href="credits.html">Distribution of Contribution</a></p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js"></script>
    <script src="script.js"></script>
    <script src="scene.js"></script>
</body>
</html>
